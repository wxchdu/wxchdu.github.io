<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"/><meta name="theme-color" content="#222"/><meta http-equiv="X-UA-COMPATIBLE" content="IE=edge,chrome=1"/><meta name="renderer" content="webkit"/><link rel="icon" type="image/ico" sizes="32x32" href="/assets/favicon.ico"/><link rel="apple-touch-icon" sizes="180x180" href="/assets/apple-touch-icon.png"/><link rel="alternate" href="/rss.xml" title="worked warriors" type="application/rss+xml"><link rel="alternate" href="/atom.xml" title="worked warriors" type="application/atom+xml"><link rel="alternate" type="application/json" title="worked warriors" href="http://example.com/feed.json"/><link rel="preconnect" href="https://lf9-cdn-tos.bytecdntp.com"/><link rel="preconnect" href="https://at.alicdn.com"/><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Mulish:400,400italic,700,700italic%7CFredericka%20the%20Great:400,400italic,700,700italic%7CNoto%20Serif%20JP:400,400italic,700,700italic%7CNoto%20Serif%20SC:400,400italic,700,700italic%7CInconsolata:400,400italic,700,700italic&display=swap&subset=latin,latin-ext" media="none" onload="this.media&#x3D;&#39;all&#39;"><link rel="stylesheet" href="/css/app.css?v=0.4.2"><link rel="modulepreload" href="/js/chunk-PBF2T7BW.js"></link><link rel="modulepreload" href="/js/chunk-QAWHJ5B3.js"></link><link rel="modulepreload" href="/js/chunk-ZRX4527L.js"></link><link rel="modulepreload" href="/js/index.esm-XWNHOQIZ.js"></link><link rel="modulepreload" href="/js/post-U3LNELWM.js"></link><link rel="modulepreload" href="/js/quicklink-SX3NI42S.js"></link><link rel="modulepreload" href="/js/siteInit.js"></link><link rel="preload" href="https://img.picui.cn/free/2024/06/02/665c061f9931d.jpg" as="image" fetchpriority="high"><link rel="preload" href="https://img.picui.cn/free/2024/06/02/665c055158072.jpg" as="image" fetchpriority="high"><link rel="preload" href="https://img2.imgtp.com/2024/05/26/YCdPymQ7.jpg" as="image" fetchpriority="high"><link rel="preload" href="https://img.picui.cn/free/2024/06/02/665c055093feb.jpg" as="image" fetchpriority="high"><link rel="preload" href="https://img2.imgtp.com/2024/05/28/aur7gBvM.jpg" as="image" fetchpriority="high"><link rel="preload" href="https://img.picui.cn/free/2024/06/02/665c055119ff7.jpg" as="image" fetchpriority="high"><link rel="canonical" href="http://example.com/2024/06/02/js%E7%9B%B8%E5%85%B3%E9%97%AE%E9%A2%98/"><title>js相关问题</title><meta name="generator" content="Hexo 7.0.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">js相关问题</h1><div class="meta"><span class="item" title="创建时间：2024-06-02 12:45:26"><span class="icon"><i class="ic i-calendar"></i></span><span class="text">发表于</span><time itemprop="dateCreated datePublished" datetime="2024-06-02T12:45:26+08:00">2024-06-02</time></span><span class="item" title="本文字数"><span class="icon"><i class="ic i-pen"></i></span><span class="text">本文字数</span><span>6.4k</span><span class="text">字</span></span><span class="item" title="阅读时长"><span class="icon"><i class="ic i-clock"></i></span><span class="text">阅读时长</span><span>6 分钟</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="切换导航栏"><span class="line"></span><span class="line"></span><span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">TechVoy's blog</a></li></ul><ul class="right" id="rightNav"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div class="pjax" id="imgs"><ul><li class="item" style="background-image: url(&quot;https://img.picui.cn/free/2024/06/02/665c061f9931d.jpg&quot;);"></li><li class="item" style="background-image: url(&quot;https://img.picui.cn/free/2024/06/02/665c055158072.jpg&quot;);"></li><li class="item" style="background-image: url(&quot;https://img2.imgtp.com/2024/05/26/YCdPymQ7.jpg&quot;);"></li><li class="item" style="background-image: url(&quot;https://img.picui.cn/free/2024/06/02/665c055093feb.jpg&quot;);"></li><li class="item" style="background-image: url(&quot;https://img2.imgtp.com/2024/05/28/aur7gBvM.jpg&quot;);"></li><li class="item" style="background-image: url(&quot;https://img.picui.cn/free/2024/06/02/665c055119ff7.jpg&quot;);"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"></path></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"></use><use xlink:href="#gentle-wave" x="48" y="3"></use><use xlink:href="#gentle-wave" x="48" y="5"></use><use xlink:href="#gentle-wave" x="48" y="7"></use></g></svg></div><main><div class="inner"><div class="pjax" id="main"><div class="article wrap"><div class="breadcrumb" itemListElement itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i><span><a href="/">首页</a></span><i class="ic i-angle-right"></i><span class="current" itemprop="itemListElement" itemscope="itemscope" itemtype="https://schema.org/ListItem"><a href="/categories/study/" itemprop="item" rel="index" title="分类于平时学习"><span itemprop="name">平时学习<meta itemprop="position" content="0"/></span></a></span></div><article class="post block" itemscope="itemscope" itemtype="http://schema.org/Article" lang="zh-CN"><link itemprop="mainEntityOfPage" href="http://example.com/2024/06/02/js%E7%9B%B8%E5%85%B3%E9%97%AE%E9%A2%98/"/><span hidden="hidden" itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><meta itemprop="image" content="/assets/avatar.jpg"/><meta itemprop="name" content="TechVoy"/><meta itemprop="description" content="努力过的人皆为战士, "/></span><span hidden="hidden" itemprop="publisher" itemscope="itemscope" itemtype="http://schema.org/Organization"><meta itemprop="name" content="worked warriors"/></span><div class="body md" itemprop="articleBody"><h1 id="js数据类型"><a class="anchor" href="#js数据类型">#</a> js 数据类型</h1>
<p>值类型 (基本类型)：字符串（String）、数字 (Number)、布尔 (Boolean)、空（Null）、未定义（Undefined）、Symbol。<br />
引用数据类型（对象类型）：对象 (Object)、数组 (Array)、函数 (Function)，还有两个特殊的对象：正则（RegExp）和日期（Date）。<br />
Symbol 是 ES6 引入了一种新的原始数据类型，表示独一无二的值 (标识符)。</p>
<h1 id="js数组的一些方法"><a class="anchor" href="#js数组的一些方法">#</a> js 数组的一些方法</h1>
<p>1.push();<br />
 功能：在数组最后一位添加一个或多个元素，并返回新数组的长度，改变原数组.(添加多个元素用逗号隔开)</p>
<p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="string">&quot;c&quot;</span>];</span><br><span class="line">   <span class="keyword">var</span> rel = arr.<span class="title function_">push</span>(<span class="string">&quot;A&quot;</span>, <span class="string">&quot;B&quot;</span>);</span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(arr); <span class="comment">// [1, 2, &quot;c&quot;, &quot;A&quot;, &quot;B&quot;]</span></span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(rel); <span class="comment">//  5  (数组长度)</span></span><br></pre></td></tr></table></figure></p>
<p>2.unshift();<br />
 功能：在数组第一位添加一个或多个元素，并返回新数组的长度，改变原数组。(添加多个元素用逗号隔开)</p>
<p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="string">&quot;c&quot;</span>];</span><br><span class="line">   <span class="keyword">var</span> rel = arr.<span class="title function_">unshift</span>(<span class="string">&quot;A&quot;</span>, <span class="string">&quot;B&quot;</span>);</span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(arr); <span class="comment">// [ &quot;A&quot;, &quot;B&quot;,1, 2, &quot;c&quot;]</span></span><br><span class="line">   <span class="variable language_">console</span>.<span class="title function_">log</span>(rel); <span class="comment">//  5  (数组长度)</span></span><br></pre></td></tr></table></figure></p>
<p>3.pop();<br />
 功能：删除数组的最后一位，并且返回删除的数据，会改变原来的数组。(该方法不接受参数，且每次只能删除最后一个)</p>
<p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="string">&quot;c&quot;</span>];</span><br><span class="line"> <span class="keyword">var</span> rel = arr.<span class="title function_">pop</span>();</span><br><span class="line"> <span class="variable language_">console</span>.<span class="title function_">log</span>(arr); <span class="comment">// [1, 2]</span></span><br><span class="line"> <span class="variable language_">console</span>.<span class="title function_">log</span>(rel); <span class="comment">// c</span></span><br></pre></td></tr></table></figure></p>
<p>4.shift();<br />
 功能：删除数组的第一位数据，并且返回被删除的数据，会改变原来的数组。(该方法同 pop ()；一样不接受参数，且每次只能删除数组第一个)</p>
<pre><code>var arr = [&quot;a&quot;,&quot;b&quot;, &quot;c&quot;];
var rel = arr.shift();
console.log(arr); // ['b', &quot;c&quot;]
console.log(rel); // a
</code></pre>
<h1 id="promise"><a class="anchor" href="#promise">#</a> Promise</h1>
<p>Promise 创建</p>
<p>new Promise (function (resolve, reject) { // 要做的事情... });</p>
<p>resolve 和 reject 的作用域只有起始函数，不包括 then 以及其他序列；<br />
resolve 和 reject 并不能够使起始函数停止运行，别忘了 return。<br />
Promise 对象有以下两个特点:</p>
<p>1、对象的状态不受外界影响。Promise 对象代表一个异步操作，有三种状态：</p>
<p>pending: 初始状态，不是成功或失败状态。<br />
fulfilled: 意味着操作成功完成。<br />
rejected: 意味着操作失败。<br />
2、一旦状态改变，就不会再变，任何时候都可以得到这个结果。</p>
<p>Promise 构造函数返回一个 Promise 对象，该对象具有以下几个方法：</p>
<p>then：用于处理 Promise 成功状态的回调函数。<br />
catch：用于处理 Promise 失败状态的回调函数。<br />
finally：无论 Promise 是成功还是失败，都会执行的回调函数。</p>
<h1 id="es6新特性"><a class="anchor" href="#es6新特性">#</a> ES6 新特性：</h1>
<h2 id="箭头函数参数-执行的操作"><a class="anchor" href="#箭头函数参数-执行的操作">#</a> 箭头函数： <code>(参数) =&gt; &#123; 执行的操作 &#125;</code></h2>
<p>与普通函数的区别：</p>
<p>箭头函数没有 this，所以需要通过查找作用域链来确定 this 的值，这就意味着如果箭头函数被非箭头函数包含，this 绑定的就是最近一层非箭头函数的 this，</p>
<p>箭头函数没有自己的 arguments 对象，但是可以访问外围函数的 arguments 对象</p>
<p>不能通过 new 关键字调用，同样也没有 new.target 值和原型</p>
<h2 id="let与const关键字"><a class="anchor" href="#let与const关键字">#</a> let 与 const 关键字：</h2>
<p>let 声明的变量只在 let 命令所在的代码块内有效。</p>
<p>const 声明一个只读的常量，一旦声明，常量的值就不能改变。</p>
<p>let 与 var 区别：</p>
<p>var 在全局范围内有效：全局作用<br />
 var 可以声明多次：var a = 1, var a =2<br />
var 会提升变量： console.log (b); var b = &quot;后声明&quot;</p>
<h2 id="解构赋值"><a class="anchor" href="#解构赋值">#</a> 解构赋值</h2>
<ul>
<li>是一种针对数组或者对象进行模式匹配，然后对其中的变量进行赋值。</li>
<li>解构模型：
<ol>
<li>解构的源，解构赋值表达式的右边部分。</li>
<li>解构的目标，解构赋值表达式的左边部分。</li>
</ol>
</li>
</ul>
<p>举例：</p>
<p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> [a, b, c] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]; <span class="comment">// a = 1 // b = 2 // c = 3</span></span><br></pre></td></tr></table></figure></p>
<h1 id="null-和-undefined-的区别"><a class="anchor" href="#null-和-undefined-的区别">#</a> null 和 undefined 的区别？</h1>
<p>undefined 表示一个变量没有被声明，或者被声明了但没有被赋值（未初始化），一个没有传入实参的形参变量的值为 undefined，如果一个函数什么都不返回，则该函数默认返回 undefined。</p>
<blockquote>
<p>（1） 作为函数的参数，表示该函数的参数不是对象。</p>
<p>（2） 作为对象原型链的终点。</p>
</blockquote>
<blockquote>
<p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> i;</span><br><span class="line">i <span class="comment">// undefined</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">f</span>(<span class="params">x</span>)&#123;<span class="variable language_">console</span>.<span class="title function_">log</span>(x)&#125;</span><br><span class="line"><span class="title function_">f</span>() <span class="comment">// undefined</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span>  o = <span class="keyword">new</span> <span class="title class_">Object</span>();</span><br><span class="line">o.<span class="property">p</span> <span class="comment">// undefined</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> x = <span class="title function_">f</span>();</span><br><span class="line">x <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure></p>
</blockquote>
<p>null 则表示 &quot;什么都没有&quot;，即 &quot;空值&quot;。Javascript 将未赋值的变量默认值设为 undefined ；Javascript 从来不会将变量设为 null 。. 它是用来让程序员表明某个用 var 声明的变量时没有值的；</p>
<p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Object</span>.<span class="title function_">getPrototypeOf</span>(<span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>)</span><br><span class="line"><span class="comment">// null</span></span><br></pre></td></tr></table></figure></p>
<h1 id="防抖和节流"><a class="anchor" href="#防抖和节流">#</a> 防抖和节流</h1>
<p><strong>防抖与节流？</strong></p>
<ol>
<li>
<p>防抖：<strong>指触发事件后在 n 秒内函数只能执行一次</strong>，如果在 n 秒内又触发了事件，则会<strong>重新计算函数执行时间</strong>。</p>
<p>实现： <code>setTimeout</code></p>
<p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">debounce</span>(<span class="params">func, wait</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> timeout;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> context = <span class="variable language_">this</span>; <span class="comment">// 保存this指向</span></span><br><span class="line">        <span class="keyword">let</span> args = <span class="variable language_">arguments</span>; <span class="comment">// 拿到event对象</span></span><br><span class="line"></span><br><span class="line">        <span class="built_in">clearTimeout</span>(timeout)</span><br><span class="line">        timeout = <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">            func.<span class="title function_">apply</span>(context, args)</span><br><span class="line">        &#125;, wait);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></p>
</li>
<li>
<p>节流：<strong>是指连续触发事件但是在 n 秒中只执行一次函数</strong></p>
<p>实现： <code>时间戳 / 定时器</code></p>
<p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">throttled2</span>(<span class="params">fn, delay = <span class="number">500</span></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> timer = <span class="literal">null</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params">...args</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!timer) &#123;</span><br><span class="line">            timer = <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">                fn.<span class="title function_">apply</span>(<span class="variable language_">this</span>, args)</span><br><span class="line">                timer = <span class="literal">null</span></span><br><span class="line">            &#125;, delay);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
</li>
</ol>
<h1 id="深拷贝与浅拷贝"><a class="anchor" href="#深拷贝与浅拷贝">#</a> 深拷贝与浅拷贝</h1>
<p>深拷贝：</p>
<p>创建一个新的对象和数组，将原对象的各项属性的 “值”（数组的所有元素）拷贝过来，是 “值” 而不是 “引用”<br />
 深拷贝就是把一个对象，从内存中完整的拷贝出来，从堆内存中开辟了新区域，用来存新对象，并且修改新对象不会影响原对象<br />
浅拷贝：</p>
<p>将原对象或原数组的引用直接赋给新对象，新数组，新对象只是对原对象的一个引用，而不复制对象本身，新旧对象还是共享同一块内存<br />
如果属性是一个基本数据类型，拷贝就是基本类型的值，如果属性是引用类型，拷贝的就是内存地址</p>
<h2 id="实现深拷贝"><a class="anchor" href="#实现深拷贝">#</a> 实现深拷贝</h2>
<p>使用递归的方式实现深拷贝</p>
<p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">deepClone</span>(<span class="params">obj</span>)&#123;</span><br><span class="line">    <span class="keyword">let</span> objClone = <span class="title class_">Array</span>.<span class="title function_">isArray</span>(obj)?[]:&#123;&#125;;</span><br><span class="line">    <span class="keyword">if</span>(obj &amp;&amp; <span class="keyword">typeof</span> obj===<span class="string">&quot;object&quot;</span>)&#123;</span><br><span class="line">        <span class="keyword">for</span>(key <span class="keyword">in</span> obj)&#123;</span><br><span class="line">            <span class="keyword">if</span>(obj.<span class="title function_">hasOwnProperty</span>(key))&#123;</span><br><span class="line">                <span class="comment">//判断obj子元素是否为对象，如果是，递归复制</span></span><br><span class="line">                <span class="keyword">if</span>(obj[key]&amp;&amp;<span class="keyword">typeof</span> obj[key] ===<span class="string">&quot;object&quot;</span>)&#123;</span><br><span class="line">                    objClone[key] = <span class="title function_">deepClone</span>(obj[key]);</span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    <span class="comment">//如果不是，简单复制</span></span><br><span class="line">                    objClone[key] = obj[key];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> objClone;</span><br><span class="line">&#125;    </span><br><span class="line"><span class="keyword">let</span> a=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>],</span><br><span class="line">    b=<span class="title function_">deepClone</span>(a);</span><br><span class="line">a[<span class="number">0</span>]=<span class="number">2</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a,b);</span><br><span class="line"></span><br></pre></td></tr></table></figure></p>
<p>Json.stringify 和 Json.parse：</p>
<p>用 Json.stringify 把对象转换成字符串，再用 Json.parse 把字符串转换成新的对象。</p>
<p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  <span class="attr">a</span>: &#123;</span><br><span class="line">    <span class="attr">c</span>: <span class="number">2</span>,</span><br><span class="line">    <span class="attr">d</span>: [<span class="number">9</span>, <span class="number">8</span>, <span class="number">7</span>]</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">b</span>: <span class="number">4</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> jsontext = <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(obj)</span><br><span class="line"><span class="keyword">var</span> obj1 =<span class="title class_">JSON</span>.<span class="title function_">parse</span>(jsontext) </span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj1);</span><br><span class="line"></span><br><span class="line">obj.<span class="property">a</span>.<span class="property">d</span>[<span class="number">0</span>] = <span class="number">666</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj1);</span><br><span class="line"></span><br></pre></td></tr></table></figure></p>
<p>可以转成 Json 格式的对象才能使用这种方法，如果对象中包含 function 或 RegExp 这些就不能用这种方法了。</p>
<p>函数库 lodash 的_.cloneDeep 方法</p>
<p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> _ = <span class="built_in">require</span>(<span class="string">&#x27;lodash&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  <span class="attr">a</span>: &#123;</span><br><span class="line">    <span class="attr">c</span>: <span class="number">2</span>,</span><br><span class="line">    <span class="attr">d</span>: [<span class="number">9</span>, <span class="number">8</span>, <span class="number">7</span>]</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">b</span>: <span class="number">4</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj1 = _.<span class="title function_">cloneDeep</span>(obj)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj === obj1);<span class="comment">//false</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></p>
<h1 id="js-的几种模块规范"><a class="anchor" href="#js-的几种模块规范">#</a> js 的几种模块规范</h1>
<p>​	<strong>第一种是 CommonJS 方案</strong>，它通过 require 来引入模块，通过 module.exports 定义模块的输出接口。这种模块加载方案是服务器端的解决方案，它是以同步的方式来引入模块的，因为在服务端文件都存储在本地磁盘，所以读取非常快，所以以同步的方式加载没有问题。但如果是在浏览器端，由于模块的加载是使用网络请求，因此使用异步加载的方式更加合适。</p>
<p>​	<strong>第二种是 AMD 方案</strong>，这种方案采用异步加载的方式来加载模块，模块的加载不影响后面语句的执行，所有依赖这个模块的语句都定义在一个回调函数里，等到加载完成后再执行回调函数。require.js 实现了 AMD 规范。</p>
<p>​	<strong>第三种方案是 ES6 提出的方案，使用 import 和 export 的形式来导入导出模块。</strong></p>
<p>import 是 ES6 中的语法标准也是用来加载模块文件的，import 函数可以读取并执行一个 JavaScript 文件，然后返回该模块的 export 命令指定输出的代码。export 与 export default 均可用于导出常量、函数、文件、模块，export 可以有多个，export default 只能有一个。</p>
<p>require 定义模块：module 变量代表当前模块，它的 exports 属性是对外的接口。通过 exports 可以将模块从模块中导出，其他文件加载该模块实际上就是读取 module.exports 变量，他们可以是变量、函数、对象等。在 node 中如果用 exports 进行导出的话系统会系统帮您转成 module.exports 的，只是导出需要定义导出名。</p>
<p>require 与 import 的区别</p>
<p>1，require 是 CommonJS 规范的模块化语法，import 是 ECMAScript 6 规范的模块化语法；</p>
<p>2，require 是运行时加载，import 是编译时加载；</p>
<p>3，require 可以写在代码的任意位置，import 只能写在文件的最顶端且不可在条件语句或函数作用域中使用；</p>
<h1 id="浏览器渲染页面的原理及流程"><a class="anchor" href="#浏览器渲染页面的原理及流程">#</a> 浏览器渲染页面的原理及流程</h1>
<p>浏览器将域名通过网络通信从服务器拿到 html 文件后，如何渲染页面呢？</p>
<p>1. 根据 html 文件构建 DOM 树和 CSSOM 树。构建 DOM 树期间，如果遇到 JS，阻塞 DOM 树及 CSSOM 树的构建，优先加载 JS 文件，加载完毕，再继续构建 DOM 树及 CSSOM 树。+<br />
2. 构建渲染树（Render Tree）。<br />
3. 页面的重绘（repaint）与重排（reflow，也有称回流）。页面渲染完成后，若 JS 操作了 DOM 节点，根据 JS 对 DOM 操作动作的大小，浏览器对页面进行重绘或是回流</p>
<h1 id="js闭包"><a class="anchor" href="#js闭包">#</a> js 闭包</h1>
<p>由于在 Javascript 语言中，只有函数内部的子函数才能读取局部变量，因此可以把闭包简单理解成 &quot;定义在一个函数内部的函数&quot;。</p>
<p>所以，在本质上，闭包就是将函数内部和函数外部连接起来的一座桥梁。</p>
<p>它的最大用处有两个，一个是前面提到的可以读取函数内部的变量，另一个就是让这些变量的值始终保持在内存中。</p>
<p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">　<span class="keyword">function</span> <span class="title function_">f1</span>(<span class="params"></span>)&#123;</span><br><span class="line"></span><br><span class="line">　　　　<span class="keyword">var</span> n=<span class="number">999</span>;</span><br><span class="line"></span><br><span class="line">　　　　nAdd=<span class="keyword">function</span>(<span class="params"></span>)&#123;n+=<span class="number">1</span>&#125;</span><br><span class="line"></span><br><span class="line">　　　　<span class="keyword">function</span> <span class="title function_">f2</span>(<span class="params"></span>)&#123;</span><br><span class="line">　　　　　　<span class="title function_">alert</span>(n);</span><br><span class="line">　　　　&#125;</span><br><span class="line"></span><br><span class="line">　　　　<span class="keyword">return</span> f2;</span><br><span class="line"></span><br><span class="line">　　&#125;</span><br><span class="line"></span><br><span class="line">　　<span class="keyword">var</span> result=<span class="title function_">f1</span>();</span><br><span class="line"></span><br><span class="line">　　<span class="title function_">result</span>(); <span class="comment">// 999</span></span><br><span class="line"></span><br><span class="line">　　<span class="title function_">nAdd</span>();</span><br><span class="line"></span><br><span class="line">　　<span class="title function_">result</span>(); <span class="comment">// 1000</span></span><br></pre></td></tr></table></figure></p>
<p>在这段代码中，result 实际上就是闭包 f2 函数。它一共运行了两次，第一次的值是 999，第二次的值是 1000。这证明了，函数 f1 中的局部变量 n 一直保存在内存中，并没有在 f1 调用后被自动清除。</p>
</div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i></span><span class="text">更新于</span><time title="修改时间：2024-06-02 12:45:58" itemprop="dateModified" datetime="2024-06-02T12:45:58+08:00">2024-06-02</time></span></div><div class="reward"><button><i class="ic i-heartbeat"></i>赞赏</button><p>请我喝[茶]~(￣▽￣)~*</p><div id="qr"><div><img loading="lazy" data-src="/assets/wechatpay.png" alt="TechVoy 微信支付"/><p>微信支付</p></div><div><img loading="lazy" data-src="/assets/alipay.png" alt="TechVoy 支付宝"/><p>支付宝</p></div></div></div><div id="copyright"><ul><li class="author"><strong>本文作者：</strong>TechVoy<i class="ic i-at"><em>@</em></i>worked warriors</li><li class="link"><strong>本文链接：</strong><a href="http://example.com/2024/06/02/js%E7%9B%B8%E5%85%B3%E9%97%AE%E9%A2%98/" title="js相关问题">http://example.com/2024/06/02/js相关问题/</a></li><li class="license"><strong>版权声明：</strong>本站所有文章除特别声明外，均采用 <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</a> 许可协议。转载请注明出处！</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/2024/05/29/TS%E5%AD%A6%E4%B9%A0%E8%BF%87%E7%A8%8B/" rel="prev" itemprop="url" data-background-image="https:&#x2F;&#x2F;img2.imgtp.com&#x2F;2024&#x2F;05&#x2F;28&#x2F;nMaw2u9w.jpg" title="TS学习记录"><span class="type">上一篇</span><span class="category"><i class="ic i-flag"></i>平时学习</span><h3>TS学习记录</h3></a></div><div class="item right"><a href="/2024/06/02/nodejs%E7%B3%BB%E5%88%97/" rel="next" itemprop="url" data-background-image="https:&#x2F;&#x2F;img.picui.cn&#x2F;free&#x2F;2024&#x2F;06&#x2F;02&#x2F;665c061f9931d.jpg" title="nodejs系列"><span class="type">下一篇</span><span class="category"><i class="ic i-flag"></i>平时学习</span><h3>nodejs系列</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="文章目录"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#js%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.</span> <span class="toc-text"> js 数据类型</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#js%E6%95%B0%E7%BB%84%E7%9A%84%E4%B8%80%E4%BA%9B%E6%96%B9%E6%B3%95"><span class="toc-number">2.</span> <span class="toc-text"> js 数组的一些方法</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#promise"><span class="toc-number">3.</span> <span class="toc-text"> Promise</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#es6%E6%96%B0%E7%89%B9%E6%80%A7"><span class="toc-number">4.</span> <span class="toc-text"> ES6 新特性：</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0-%E6%89%A7%E8%A1%8C%E7%9A%84%E6%93%8D%E4%BD%9C"><span class="toc-number">4.1.</span> <span class="toc-text"> 箭头函数： (参数) &#x3D;&gt; { 执行的操作 }</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#let%E4%B8%8Econst%E5%85%B3%E9%94%AE%E5%AD%97"><span class="toc-number">4.2.</span> <span class="toc-text"> let 与 const 关键字：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A7%A3%E6%9E%84%E8%B5%8B%E5%80%BC"><span class="toc-number">4.3.</span> <span class="toc-text"> 解构赋值</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#null-%E5%92%8C-undefined-%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">5.</span> <span class="toc-text"> null 和 undefined 的区别？</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%98%B2%E6%8A%96%E5%92%8C%E8%8A%82%E6%B5%81"><span class="toc-number">6.</span> <span class="toc-text"> 防抖和节流</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%B7%B1%E6%8B%B7%E8%B4%9D%E4%B8%8E%E6%B5%85%E6%8B%B7%E8%B4%9D"><span class="toc-number">7.</span> <span class="toc-text"> 深拷贝与浅拷贝</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E6%B7%B1%E6%8B%B7%E8%B4%9D"><span class="toc-number">7.1.</span> <span class="toc-text"> 实现深拷贝</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#js-%E7%9A%84%E5%87%A0%E7%A7%8D%E6%A8%A1%E5%9D%97%E8%A7%84%E8%8C%83"><span class="toc-number">8.</span> <span class="toc-text"> js 的几种模块规范</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%B5%8F%E8%A7%88%E5%99%A8%E6%B8%B2%E6%9F%93%E9%A1%B5%E9%9D%A2%E7%9A%84%E5%8E%9F%E7%90%86%E5%8F%8A%E6%B5%81%E7%A8%8B"><span class="toc-number">9.</span> <span class="toc-text"> 浏览器渲染页面的原理及流程</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#js%E9%97%AD%E5%8C%85"><span class="toc-number">10.</span> <span class="toc-text"> js 闭包</span></a></li></ol></div><div class="related panel pjax" data-title="系列文章"><ul><li ><a href="/2024/05/28/vue%E7%B3%BB%E5%88%97/" rel="bookmark" title="vue系列">vue系列</a></li><li ><a href="/2024/05/29/TS%E5%AD%A6%E4%B9%A0%E8%BF%87%E7%A8%8B/" rel="bookmark" title="TS学习记录">TS学习记录</a></li><li  class="active"><a href="/2024/06/02/js%E7%9B%B8%E5%85%B3%E9%97%AE%E9%A2%98/" rel="bookmark" title="js相关问题">js相关问题</a></li><li ><a href="/2024/06/02/nodejs%E7%B3%BB%E5%88%97/" rel="bookmark" title="nodejs系列">nodejs系列</a></li><li ><a href="/2024/06/02/react%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" rel="bookmark" title="react学习笔记">react学习笔记</a></li></ul></div><div class="overview panel" data-title="站点概览"><div class="author" itemprop="author" itemscope="itemscope" itemtype="http://schema.org/Person"><img class="image" loading="lazy" decoding="async" itemprop="image" alt="TechVoy" src="/assets/avatar.jpg"/><p class="name" itemprop="name">TechVoy</p><div class="description" itemprop="description"></div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">7</span><span class="name">文章</span></a></div><div class="item categories"><a href="/categories/"><span class="count">4</span><span class="name">分类</span></a></div><div class="item tags"><a href="/tags/"><span class="count">4</span><span class="name">标签</span></a></div></nav><div class="social"><a target="_blank" rel="noopener" href="https://github.com/wxchdu" class="item github" title="https:&#x2F;&#x2F;github.com&#x2F;wxchdu"><i class="ic i-github"></i></a></div><div class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>首页</a></li><li class="item"><a href="/about/" rel="section"><i class="ic i-coffee"></i>关于</a></li><li class="item dropdown"><a href="#" onclick="return false;"><i class="ic i-user"></i>文章</a><ul class="submenu"><li class="item"><a href="/categories/" rel="section"><i class="ic i-user"></i>分类</a></li><li class="item"><a href="/tag/" rel="section"><i class="ic i-cloud"></i>标签</a></li></ul></li></div></div></div></div><ul id="quick"><li class="prev pjax"><a href="/2024/06/02/nodejs%E7%B3%BB%E5%88%97/" rel="prev" title="上一篇"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/2024/05/29/TS%E5%AD%A6%E4%B9%A0%E8%BF%87%E7%A8%8B/" rel="next" title="下一篇"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>随机文章</h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/Interview/" title="分类于面试记录">面试记录</a></div><span><a href="/2024/05/27/%E8%85%BE%E8%AE%AF%E4%B8%80%E9%9D%A2/">腾讯一面</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/other/" title="分类于其他">其他</a></div><span><a href="/2024/05/29/%E5%B8%B8%E7%94%A8%E6%8C%87%E4%BB%A4/">常用命令</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/study/" title="分类于平时学习">平时学习</a></div><span><a href="/2024/06/02/js%E7%9B%B8%E5%85%B3%E9%97%AE%E9%A2%98/">js相关问题</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/study/" title="分类于平时学习">平时学习</a></div><span><a href="/2024/05/28/vue%E7%B3%BB%E5%88%97/">vue系列</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/study/" title="分类于平时学习">平时学习</a></div><span><a href="/2024/06/02/nodejs%E7%B3%BB%E5%88%97/">nodejs系列</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/study/" title="分类于平时学习">平时学习</a></div><span><a href="/2024/05/29/TS%E5%AD%A6%E4%B9%A0%E8%BF%87%E7%A8%8B/">TS学习记录</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/study/" title="分类于平时学习">平时学习</a></div><span><a href="/2024/06/02/react%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">react学习笔记</a></span></li></ul></div><div class="rpost pjax"><h2>最新评论</h2></div></div><div class="status"><div class="copyright">&copy; 2010 -<span itemprop="copyrightYear">2024</span><span class="with-love"><i class="ic i-sakura rotate"></i></span><span class="author" itemprop="copyrightHolder">TechVoy @ TechVoy's blog</span></div><div class="count"><span class="post-meta-item-icon"><i class="ic i-chart-area"></i></span><span title="站点总字数">39k 字</span><span class="post-meta-divider"> | </span><span class="post-meta-item-icon"><i class="ic i-coffee"></i></span><span title="站点阅读时长">35 分钟</span></div><div class="powered-by">基于 <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a> & Theme.<a target="_blank" rel="noopener" href="https://github.com/theme-shoka-x/hexo-theme-shokaX/">ShokaX</a></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL = {
    ispost: true,
        path: `2024/06/02/js相关问题/`,
        favicon: {
        show: `（●´3｀●）やれやれだぜ`,
        hide: `(´Д｀)大変だ！`
    },
    search: {
        placeholder: "文章搜索",
        empty: "关于 「 ${query} 」，什么也没搜到",
        stats: "${time} ms 内找到 ${hits} 条结果"
    },
    copy_tex: false,
    katex: false,
    mermaid: false,
    audio: undefined,
    fancybox: true,
    nocopy: false,
    outime: true,
    template: `<div class="note warning"><p><span class="label warning">文章时效性提示</span><br>这是一篇发布于 {{publish}} 天前，最后一次更新在 {{updated}} 天前的文章，部分信息可能已经发生改变，请注意甄别。</p></div>`,
    quiz: {
        choice: `单选题`,
        multiple: `多选题`,
        true_false: `判断题`,
        essay: `问答题`,
        gap_fill: `填空题`,
        mistake: `错题备注`
    },
    ignores: [
        (uri) => uri.includes('#'),
        (uri) => new RegExp(LOCAL.path + '$').test(uri),
            []
    ]
};
</script><script src="https://lf9-cdn-tos.bytecdntp.com/cdn/expire-6-M/pace/1.2.4/pace.min.js" async></script><script src="/js/siteInit.js?v=0.4.2" type="module" fetchpriority="high" defer></script></body></html>